# for testing wbm across point and polygon features...

source("setup.R")

# polygons
start <- Sys.time()
sf <- getParkBoundary(c("BRCA", "SHEN", "GOSP"))
climate_polygon <- get_climate_historic(sf = sf, col_name = "UNIT_CODE")
prep_polygon <- prep_for_wbm(climate_data = climate_polygon, col_name = "UNIT_CODE")
wbm_polygon <- run_nps_wbm(prepped_data = prep_polygon, col_name = "UNIT_CODE")
end <- Sys.time()
end-start

#points
start <- Sys.time()
sf <- getParkBoundary(c("BRCA", "SHEN", "GOSP")) %>% sf::st_centroid()
climate_point <- get_climate_historic(sf = sf, col_name = "UNIT_CODE")
prep_point <- prep_for_wbm(climate_data = climate_point, col_name = "UNIT_CODE")
wbm_point <- run_nps_wbm(prepped_data = prep_point, col_name = "UNIT_CODE")
end <- Sys.time()
end-start

