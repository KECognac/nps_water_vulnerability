url <- "https://irma.nps.gov/AQWebPortal/Data/List/Parameter/NoParameter/Location/DataSetsNo/Interval/Latest"

#RSelenium#
rD <- RSelenium::rsDriver(port=17L,browser = c("firefox"))
remDr <- rD[["client"]]
remDr$navigate(url)

dropper <- remDr$findElement(using='xpath',value='/html/body/section/section/section/div[3]/div[2]/div[1]/div[2]/div[2]/div[6]/div/ul/li[2]/a')
                               
                               #"/html/body/section/section/section/div[3]/div[2]/div[1]/div[2]/div[2]/div[6]/div/ul/li[2]")
dropper$clickElement()

table <- remDr$findElement(using='xpath',value='//*[@id="grid_map"]')#//*[@id="tab_list"]/div[1]/div[4]')

remDr$close()

#RVEST#
site <- rvest::read_html(url) %>%
  rvest::html_element(xpath='//*[@id="tab_list"]/div[1]/div[2]/div[2]/div[3]/div/button/div/div/div') #%>%
  html_table()

html_table()
site  
gc()


