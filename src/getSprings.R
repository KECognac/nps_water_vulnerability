getSpringsOnline <- function(username, password){
  
  
  
  
  library(tidyverse)
  dir.create(file.path(getwd(), paste0("/data/all/aquarius/")), showWarnings = FALSE)
  
  full_data <- vector("list", length = length(park))
  
  for(i in 1:length(park)){
    
    # Create the resting place for each park's Aquarius data:
    dir.create(file.path(getwd(), paste0("/data/all/aquarius/temp/")), showWarnings = FALSE)
    
    # create a temporary directory for all raw datafiles to be sent to
    dir.create(file.path(getwd(), "/data/all/aquarius/temp/temp/"), showWarnings = FALSE)
    dir.create(file.path(getwd(), "/data/all/aquarius/temp/raw_yuck/"), showWarnings = FALSE)
    dir.create(file.path(getwd(), "/data/all/aquarius/temp/coords/"), showWarnings = FALSE)
    
    downloadPath <- file.path(getwd(), "/data/all/getSprings/")# %>% stringr::str_replace_all("/", "\\\\\\\\")
    
    # make sure server downloads data into appropriate folder (i.e., our temporary folder)
    fprof <- RSelenium::makeFirefoxProfile(list(browser.download.dir = downloadPath,
                                                browser.download.folderList = 2L,
                                                browser.download.manager.showWhenStarting = FALSE,
                                                browser.helperApps.neverAsk.openFile = "text/csv",
                                                browser.helperApps.neverAsk.saveToDisk = "text/csv"))
    
    exCap <- list(firefox_profile = fprof$firefox_profile, 
                  # REMOVE  "Pop-up" CONSOLE:
                  "moz:firefoxOptions" = list(args = list('--headless')))
    
    # start up RSelenium session:
    rD <- RSelenium::rsDriver(browser = "firefox", port = sample.int(1000, 1))#, extraCapabilities = exCap)
    remDr <- rD$client
    
    
    
    # get list of all Aquarius sites from the portal
    remDr$navigate('https://springsdata.org/profile/index.php?refurl=/index.php')
    Sys.sleep(3) # provide time for site navigation
    dropper <- remDr$findElement(using = 'xpath', value = '//*[@id="login"]')
    Sys.sleep(3) # provide time for navigation and selection
    dropper$sendKeysToElement(list("krw21719", key = "enter"))
    
    remDr$screenshot(display = TRUE)
    remDr$navigate('https://springsdata.org/search/index.php')
    
    
    option <- remDr$findElement(using = 'xpath', '//*[@id="Country"]')
    option$clickElement()
    dropper$sendKeysToElement(list("United States", key = "enter"))
    option$clickElement()
    # for(i in 1:nrow(aoi)){
    # bbox <- sf::st_bbox(aoi) %>%
    #   as.vector() %>%
    #   round(., digits=7)#
    # }
    
    
    
  
     dropper$clickElement()
    Sys.sleep(3)
    dropper <- remDr$findElement(using = 'xpath', value = '/html/body/section/section/section/div[3]/div[2]/div[1]/div[2]/div[2]/div[6]/div/ul/li[2]/a')
    Sys.sleep(3) # provide time for navigation and selection
    dropper$clickElement()
    Sys.sleep(3) # provide  time for download to start
    
    sites <- read.csv(list.files(path = downloadPath, pattern = "*.csv", full.names = TRUE)[1], skip = 1)
    
  
  }
  
}